(() => {
    const r = () => localStorage.getItem("theme"),
        o = (e) => localStorage.setItem("theme", e),
        h = () => {
            const e = r();
            return (
                e ||
                (o(
                    window.matchMedia("(prefers-color-scheme: dark)").matches
                        ? "dark"
                        : "light"
                ),
                window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? "dark"
                    : "light")
            );
        },
        c = (e) => {
            document.documentElement.setAttribute("data-bs-theme", e);
        };
    c(h());
    const d = (e) => {
        if (!document.querySelector("#theme-switcher")) return;
        const a = document.querySelector(".box");
        e === "dark" && (a.classList.remove("light"), a.classList.add("dark")),
            e === "light" &&
                (a.classList.remove("dark"), a.classList.add("light"));
    };
    window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", () => {
            const e = r();
            e !== "light" && e !== "dark" && c(h());
        }),
        window.addEventListener("DOMContentLoaded", () => {
            d(h());
            const e = document.querySelector("#theme-switcher");
            e &&
                (r() == "dark"
                    ? (e.checked = !0)
                    : r() == "light" && (e.checked = !1),
                e.addEventListener("change", function () {
                    const s = this.checked ? "dark" : "light";
                    o(s), c(s), d(s);
                }));
        });
    const t = new URLSearchParams(window.location.search).get("theme");
    (t === "light" || t === "dark") && (o(t), c(t), d(t));
})();
